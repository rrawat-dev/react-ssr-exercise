(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{32:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return c}));var r=t(53);function o(n){return{type:"SHOW_FULLPAGE_LOADER",payload:n}}function a(n){return function(e){return e(o(!0)),console.log("options",n),Object(r.a)(n).then((function(t){n&&0===n.page?e(function(n){return{type:"FETCH_LATEST_NEWS_SUCCESS",payload:n}}(t)):e(function(n){return{type:"FETCH_NEWS_SUCCESS",payload:n}}(t)),e(o(!1))})).catch((function(){e(o(!1))}))}}function i(n){return function(e){return e(o(!0)),Object(r.b)(n).then((function(){e(function(n){return{type:"HIDE_NEWS_ITEM",payload:n}}(n)),e(o(!1))})).catch((function(){e(o(!1))}))}}function c(n,e){return function(t){return t(o(!0)),Object(r.c)(n,e).then((function(){t(function(n,e){return{type:"UPVOTE_NEWS_ITEM",payload:{id:n,upvotes:e}}}(n,e)),t(o(!1))})).catch((function(){t(o(!1))}))}}},52:function(n,e,t){"use strict";(function(n){var r=t(10),o=t.n(r),a=(t(0),t(11)),i=t(32),c=t(72);function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){o()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.a=Object(a.b)((function(e){var t=[],r={};n&&n.localStorage&&(t=JSON.parse(localStorage.getItem("hiddenNewsItems")||"[]"),r=JSON.parse(localStorage.getItem("upvotedNewsItems")||"{}"));var o=Object.keys(r);return{fullPageLoader:e.fullPageLoader,news:l(l({},e.news),{},{hits:(e.news.hits||[]).filter((function(n){return-1===t.indexOf(n.objectID)})).map((function(n){return o.indexOf(n.objectID)>-1?l(l({},n),{},{points:r[n.objectID].points}):n}))})}}),(function(n){return{fetchNews:function(e){return n(Object(i.a)(e))},hideNewsItem:function(e){return n(Object(i.b)(e))},upvoteNewsItem:function(e,t){return n(Object(i.c)(e,t))}}}))(c.a)}).call(this,t(7))},53:function(n,e,t){"use strict";(function(n){t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return p}));var r=t(10),o=t.n(r),a=t(54);function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){o()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function u(n){return n.replace(/https?:\/\/(www\.)?/,"").split("/")[0]}function l(n){return a.a.get("https://hn.algolia.com/api/v1/search",n||{}).then((function(n){return c(c({},n.data),{},{hits:(n.data.hits||[]).filter((function(n){return!!n.title})).map((function(n){return c(c({},n),{},{_createdOn:(e=new Date(n.created_at),t=((new Date).getTime()-e.getTime())/864e5,t<7?"".concat(t," day ago"):t<28?"".concat(Math.floor(t/7)," week ago"):t<365?"".concat(Math.floor(t/30)," month ago"):"".concat(Math.floor(t/365)," year ago")),_domain:u(n.url||""),_upvotes:0});var e,t}))})}))}function s(e){return new Promise((function(t,r){if(n&&n.localStorage){var o=JSON.parse(n.localStorage.getItem("hiddenNewsItems")||"[]");o=o.filter((function(n){return n!==e})).concat(e),n.localStorage.setItem("hiddenNewsItems",JSON.stringify(o)),setTimeout((function(){t()}),1e3)}else r()}))}function p(e,t){return new Promise((function(r,o){if(n&&n.localStorage){var a=JSON.parse(n.localStorage.getItem("upvotedNewsItems")||"{}");a[e]={points:t},n.localStorage.setItem("upvotedNewsItems",JSON.stringify(a)),setTimeout((function(){r()}),1e3)}else o()}))}}).call(this,t(7))},54:function(n,e,t){"use strict";var r=t(55),o=t.n(r);e.a=o.a.create()},72:function(n,e,t){"use strict";t.d(e,"a",(function(){return I}));var r=t(0),o=t.n(r),a=t(20),i=t.n(a),c=t(8),u=t.n(c),l=t(9),s="#ff6600",p="#fff";function f(){var n=u()(["\n        position: absolute;\n    "]);return f=function(){return n},n}function d(){var n=u()(["\n        background: rgba(0, 0, 0, .25);\n    "]);return d=function(){return n},n}function m(){var n=u()(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0; \n    z-index: 1;\n    background: none;\n\n    ","\n\n    ","\n\n    > div {\n        box-sizing: border-box;\n        display: block;\n        position: absolute;\n        width: 64px;\n        height: 64px;\n        margin: 8px;\n        border: 8px solid ",";\n        border-radius: 50%;\n        animation: LoaderAnimation 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        border-color: "," transparent transparent transparent;\n        left: 50%;\n        top: 50%;\n\n        &:nth-child(1) {\n          animation-delay: -0.45s;\n        }\n\n        &:nth-child(2) {\n          animation-delay: -0.3s;\n        }\n\n        &:nth-child(3) {\n          animation-delay: -0.15s;\n        }\n    }\n\n    @keyframes LoaderAnimation {\n        0% {\n            transform: translateX(-50%) translateY(-50%) rotate(0deg);\n        }\n\n        100% {\n            transform: translateX(-50%) translateY(-50%) rotate(360deg);\n        }\n    }  \n\n"]);return m=function(){return n},n}var b=l.c.div(m(),(function(n){return n.overlay&&Object(l.b)(d())}),(function(n){return n.component&&Object(l.b)(f())}),s,s),g=function(n){return o.a.createElement(b,n,o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},h="375px",v="425px",w="768px",O="1024px",y="1440px",x="2560px",E={mobileS:"(min-width: ".concat("320px",")"),mobileM:"(min-width: ".concat(h,")"),mobileL:"(min-width: ".concat(v,")"),tablet:"(min-width: ".concat(w,")"),laptop:"(min-width: ".concat(O,")"),laptopL:"(min-width: ".concat(y,")"),desktop:"(min-width: ".concat(x,")"),desktopL:"(min-width: ".concat(x,")")};function j(){var n=u()(["\n\n    .header {\n        background-color: ",";\n        .logo {\n            border: 2px solid ",";\n            width: 18px;\n            height: 18px;\n            background-image: url('/images/y18.gif');\n            background-repeat: no-repeat;\n            background-position: center center;\n            display: block;\n\n            &-link {\n                padding: 4px;                \n            }\n        }\n\n        .links {\n            display: flex;\n        }\n\n        .link {\n            padding: 5px 6px;\n            position: relative;\n\n            &:last-child::before {\n                content: ' | ';\n                position: absolute;\n                left: 0px;\n                top: 10px;\n                font-size: .6rem;\n                color: #333;\n            }\n\n            button {\n                font-size: .9rem;\n                color: ",";\n                border: none;\n                background: ",";\n                cursor: pointer;\n\n                &:hover {\n                    text-decoration: underline;\n                }\n            }\n        }\n    }\n\n    .newsitems {\n        padding-top: 1rem;\n    }\n\n    .newsitem {\n        display: flex;\n        flex-wrap: wrap;\n        line-height: 1.2rem;\n        padding: 8px 10px 0 10px;\n        font-size: 1rem;\n\n        > div {\n            margin-right: 10px;\n        }\n\n        &:nth-child(even) {\n            background-color: #d8d8d5;\n        }\n    }\n\n    .comments {\n        text-align: right;\n        margin-right: 15px; \n        font-size: .8rem;\n        color: #333;\n\n        @media "," {\n            flex-basis: auto;\n            order: 0;\n            width: 3rem;\n        }\n    }\n\n    .upvotes {\n        text-align: right;\n        margin-right: 15px;\n        position: relative;\n        padding-right: 12px;\n        font-size: .8rem;\n        color: #333;\n \n        @media "," {\n            flex-basis: auto;\n            order: 1;\n            width: 3rem;\n        }\n\n        .icon {\n            position: absolute;\n            right: 0;\n            top: 0;\n            cursor: pointer;\n            background: none;\n            border: none;\n            text-indent: -99999px;\n\n            &:focus{\n                outline:none;\n            }\n\n            &::after {\n                content: '';\n                display: block;\n                width: 0px;\n                height: 0px;\n                border: 4px solid transparent;\n                border-bottom: 6px solid #666;\n                position: absolute;\n                right: 0;\n                top: 3px;\n            }\n        }\n    }\n\n    .title {\n        flex-basis: 100%;\n        font-size: .9rem;\n        margin-bottom: 5px;\n\n        @media "," {\n            flex-basis: auto;\n            order: 2;\n        }\n    }\n\n    .additional-info {\n        flex-basis: 100%;\n        font-size: .7rem;\n        color: #666;\n        margin-bottom: 10px;\n\n        @media "," {\n            flex-basis: auto;\n        }\n\n        @media "," {\n            flex-basis: auto;\n            order: 3;\n        }\n    }\n\n    .hide-info {\n        @media "," {\n            flex-basis: auto;\n            order: 4;\n        }\n\n        .hide-link {\n            float: right;\n            color: #333;\n            cursor: pointer;\n            background: transparent;\n            border: none;\n\n            &:hover {\n                color: #000;\n                text-decoration: underline;\n            }\n\n            &:focus {\n                outline: none;\n            }\n        }\n    }\n\n    .fetch-more-cta {\n        margin: 1rem;\n        color: ",";\n        background: none;\n        border: none;\n        font-size: 1rem;\n        cursor: pointer;\n\n        &:focus {\n            outline: none;\n        }\n    }\n\n    .footer {\n        border-top: 2px solid ",";\n        text-align: center;\n        font-size: .8rem;\n        color: #666;\n        padding: 1rem 0;\n    }\n"]);return j=function(){return n},n}var P=l.c.div(j(),s,p,p,s,E.laptop,E.laptop,E.laptop,E.tablet,E.laptop,E.laptop,s,s);function N(){var n=u()(["\n    margin: 1rem auto;\n    width: 200px;\n    text-align: center;\n\n    .pagination-info {\n        font-size: .8rem;\n        color: ",";\n    }\n\n    .pagination-cta {\n        font-size: .8rem;\n        padding: .4rem;\n\n        &:first-child {\n            border-top-left-radius: 5px;\n            border-bottom-left-radius: 5px;\n        }\n\n        &:last-child {\n            border-top-right-radius: 5px;\n            border-bottom-right-radius: 5px;\n        }\n    }\n"]);return N=function(){return n},n}var k=l.c.div(N(),s);function S(n){return o.a.createElement(k,null,o.a.createElement("p",{className:"pagination-info"},"Showing Page ",n.currentPage+1," of ",n.totalPages),o.a.createElement("div",null,o.a.createElement("button",{className:"pagination-cta",onClick:function(){n.onPaginate(n.currentPage-1)},disabled:0===n.currentPage},"prev page"),o.a.createElement("button",{className:"pagination-cta",onClick:function(){n.onPaginate(n.currentPage+1)},disabled:n.currentPage>=n.totalPages},"next page")))}function I(n){var e=n.news;Object(r.useEffect)((function(){window.onpopstate=function(n){null!==n.state&&t(n.state.page)}}),[]);var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.history.pushState({page:e},"Hacker news: Page ".concat(e+1),"?page=".concat(e)),n.fetchNews({params:{page:e}})};return o.a.createElement(P,null,n.fullPageLoader&&o.a.createElement(g,null),o.a.createElement("div",{className:"header"},o.a.createElement("ul",{className:"links"},o.a.createElement("li",{className:"logo-link"},o.a.createElement("span",{className:"logo"},o.a.createElement("img",{src:"images/y18.gif",alt:"Site Logo"}))),o.a.createElement("li",{className:"link"},o.a.createElement("button",{onClick:function(){return t(0)}},"top")),o.a.createElement("li",{className:"link"},o.a.createElement("button",{onClick:function(){return t(0)}},"new")))),o.a.createElement("ul",{className:"newsitems"},e.hits.map((function(e){return o.a.createElement("li",{className:"newsitem",key:e.objectID},o.a.createElement("div",{className:"title"},e.title),o.a.createElement("div",{className:"additional-info"},"".concat(e._domain?"("+e._domain+") ":"","by ").concat(e.author," ").concat(e._createdOn)),o.a.createElement("div",{className:"comments"},e.num_comments||0),o.a.createElement("div",{className:"upvotes"},o.a.createElement("span",{className:"upvote"},e.points),o.a.createElement("button",{className:"icon",onClick:function(){return function(e){n.upvoteNewsItem(e.objectID,e.points?e.points+1:1)}(e)}},"upvote")),o.a.createElement("div",{className:"hide-info"},o.a.createElement("button",{className:"hide-link",onClick:function(){return t=e.objectID,void n.hideNewsItem(t);var t}}," [ hide ] ")))}))),o.a.createElement(S,{onPaginate:t,totalPages:e.nbPages,currentPage:e.page}),o.a.createElement("div",{className:"footer"},"React SSR Demo"))}I.propTypes={news:i.a.object,fetchNews:i.a.func.isRequired,hideNewsItem:i.a.func.isRequired,upvoteNewsItem:i.a.func.isRequired}},74:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return k}));var r=t(41),o=t.n(r),a=t(43),i=t.n(a),c=t(44),u=t.n(c),l=t(45),s=t.n(l),p=t(46),f=t.n(p),d=t(48),m=t.n(d),b=t(51),g=t.n(b),h=t(0),v=t.n(h),w=t(10),O=t.n(w),y=t(11),x=t(52);function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var j=Object(y.b)((function(n){return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){O()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},n)}),(function(n){return{}}))((function(n){return v.a.createElement("div",null,v.a.createElement(x.a,null))})),P=t(32);function N(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=g()(n);if(e){var o=g()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return m()(this,t)}}var k=function(n){f()(r,n);var e,t=N(r);function r(n){return u()(this,r),t.call(this,n)}return s()(r,null,[{key:"getServerSideProps",value:(e=i()(o.a.mark((function n(e){var t,r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.req,r=e.store,a={params:t.query||{}},n.abrupt("return",r.dispatch(Object(P.a)(a)));case 3:case"end":return n.stop()}}),n)}))),function(n){return e.apply(this,arguments)})}]),s()(r,[{key:"render",value:function(){return v.a.createElement(j,null)}}]),r}(h.Component)}}]);
//# sourceMappingURL=2.bundle.js.map