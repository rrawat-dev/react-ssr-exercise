(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{32:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return c}));var r=t(53);function o(n){return{type:"SHOW_FULLPAGE_LOADER",payload:n}}function a(n){return function(e){return e(o(!0)),console.log(">>> 1: "),Object(r.a)(n).then((function(t){console.log(">>> 2: "),n&&0===n.page?e(function(n){return{type:"FETCH_LATEST_NEWS_SUCCESS",payload:n}}(t)):e(function(n){return{type:"FETCH_NEWS_SUCCESS",payload:n}}(t)),e(o(!1))})).catch((function(){e(o(!1))}))}}function i(n){return function(e){return e(o(!0)),Object(r.b)(n).then((function(){e(function(n){return{type:"HIDE_NEWS_ITEM",payload:n}}(n)),e(o(!1))})).catch((function(){e(o(!1))}))}}function c(n,e){return function(t){return t(o(!0)),Object(r.c)(n,e).then((function(){t(function(n,e){return{type:"UPVOTE_NEWS_ITEM",payload:{id:n,upvotes:e}}}(n,e)),t(o(!1))})).catch((function(){t(o(!1))}))}}},52:function(n,e,t){"use strict";(function(n){var r=t(8),o=t.n(r),a=(t(0),t(11)),i=t(32),c=t(72);function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){o()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.a=Object(a.b)((function(e){var t=[],r={};n&&n.localStorage&&(t=JSON.parse(localStorage.getItem("hiddenNewsItems")||"[]"),r=JSON.parse(localStorage.getItem("upvotedNewsItems")||"{}"));var o=Object.keys(r);return{fullPageLoader:e.fullPageLoader,news:l(l({},e.news),{},{hits:(e.news.hits||[]).filter((function(n){return-1===t.indexOf(n.objectID)})).map((function(n){return o.indexOf(n.objectID)>-1?l(l({},n),{},{_upvotes:r[n.objectID]._upvotes}):n}))})}}),(function(n){return{fetchNews:function(e){return n(Object(i.a)(e))},hideNewsItem:function(e){return n(Object(i.b)(e))},upvoteNewsItem:function(e,t){return n(Object(i.c)(e,t))}}}))(c.a)}).call(this,t(7))},53:function(n,e,t){"use strict";(function(n){t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return f}));var r=t(8),o=t.n(r),a=t(54);function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){o()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function u(n){return n.replace(/https?:\/\/(www\.)?/,"").split("/")[0]}function l(n){return a.a.get("https://hn.algolia.com/api/v1/search",n||{}).then((function(n){return c(c({},n.data),{},{hits:(n.data.hits||[]).filter((function(n){return!!n.title})).map((function(n){return c(c({},n),{},{_createdOn:(e=new Date(n.created_at),t=((new Date).getTime()-e.getTime())/864e5,t<7?"".concat(t," day ago"):t<28?"".concat(Math.floor(t/7)," week ago"):t<365?"".concat(Math.floor(t/30)," month ago"):"".concat(Math.floor(t/365)," year ago")),_domain:u(n.url||""),_upvotes:0});var e,t}))})}))}function s(e){return new Promise((function(t,r){if(n&&n.localStorage){var o=JSON.parse(n.localStorage.getItem("hiddenNewsItems")||"[]");o=o.filter((function(n){return n!==e})).concat(e),n.localStorage.setItem("hiddenNewsItems",JSON.stringify(o)),setTimeout((function(){t()}),1e3)}else r()}))}function f(e,t){return new Promise((function(r,o){if(n&&n.localStorage){var a=JSON.parse(n.localStorage.getItem("upvotedNewsItems")||"{}");a[e]={_upvotes:t},n.localStorage.setItem("upvotedNewsItems",JSON.stringify(a)),setTimeout((function(){r()}),1e3)}else o()}))}}).call(this,t(7))},54:function(n,e,t){"use strict";var r=t(55),o=t.n(r);e.a=o.a.create()},72:function(n,e,t){"use strict";t.d(e,"a",(function(){return N}));var r=t(0),o=t.n(r),a=t(20),i=t.n(a),c=t(9),u=t.n(c),l=t(10),s="#ff6600",f="#fff";function p(){var n=u()(["\n        position: absolute;\n    "]);return p=function(){return n},n}function d(){var n=u()(["\n        background: rgba(0, 0, 0, .25);\n    "]);return d=function(){return n},n}function m(){var n=u()(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0; \n    z-index: 1;\n    background: none;\n\n    ","\n\n    ","\n\n    > div {\n        box-sizing: border-box;\n        display: block;\n        position: absolute;\n        width: 64px;\n        height: 64px;\n        margin: 8px;\n        border: 8px solid ",";\n        border-radius: 50%;\n        animation: LoaderAnimation 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        border-color: "," transparent transparent transparent;\n        left: 50%;\n        top: 50%;\n\n        &:nth-child(1) {\n          animation-delay: -0.45s;\n        }\n\n        &:nth-child(2) {\n          animation-delay: -0.3s;\n        }\n\n        &:nth-child(3) {\n          animation-delay: -0.15s;\n        }\n    }\n\n    @keyframes LoaderAnimation {\n        0% {\n            transform: translateX(-50%) translateY(-50%) rotate(0deg);\n        }\n\n        100% {\n            transform: translateX(-50%) translateY(-50%) rotate(360deg);\n        }\n    }  \n\n"]);return m=function(){return n},n}var b=l.c.div(m(),(function(n){return n.overlay&&Object(l.b)(d())}),(function(n){return n.component&&Object(l.b)(p())}),s,s),g=function(n){return o.a.createElement(b,n,o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},h="375px",v="425px",O="768px",w="1024px",y="1440px",j="2560px",E={mobileS:"(min-width: ".concat("320px",")"),mobileM:"(min-width: ".concat(h,")"),mobileL:"(min-width: ".concat(v,")"),tablet:"(min-width: ".concat(O,")"),laptop:"(min-width: ".concat(w,")"),laptopL:"(min-width: ".concat(y,")"),desktop:"(min-width: ".concat(j,")"),desktopL:"(min-width: ".concat(j,")")};function x(){var n=u()(["\n\n    .header {\n        background-color: ",";\n\n        .logo {\n            border: 2px solid ",";\n            width: 18px;\n            height: 18px;\n            background-image: url('/images/y18.gif');\n            background-repeat: no-repeat;\n            background-position: center center;\n            display: block;\n\n            &-link {\n                padding: 4px;                \n            }\n        }\n\n        .links {\n            display: flex;\n        }\n\n        .link {\n            padding: 5px 8px;\n            position: relative;\n\n            &:last-child::before {\n                content: ' | ';\n                position: absolute;\n                left: 0;\n                top: 7px;\n                font-size: 1rem;\n                color: #333;\n            }\n\n            button {\n                font-size: 1rem;\n                color: ",";\n                border: none;\n                background: ",";\n                cursor: pointer;\n\n                &:hover {\n                    text-decoration: underline;\n                }\n            }\n        }\n    }\n\n    .newsitem {\n        display: flex;\n        flex-wrap: wrap;\n        font-size: .9rem;\n        padding: .8rem;\n        line-height: 1.2rem;\n\n        &:nth-child(even) {\n            background-color: #d8d8d5;\n        }\n\n        &:last-child {\n            border-bottom: 2px solid ",";\n        }\n    }\n\n    .comments {\n        width: 2rem;\n        text-align: right;\n        margin-right: .5rem; \n    }\n\n    .upvotes {\n        width: 2rem;\n        text-align: right;\n        margin-right: 1.5rem;\n        position: relative;\n        padding-right: 1rem;\n \n        .icon {\n            position: absolute;\n            right: 0;\n            top: 0;\n            cursor: pointer;\n            background: none;\n            border: none;\n            text-indent: -99999px;\n\n            &:focus{\n                outline:none;\n            }\n\n            &::after {\n                content: '';\n                display: block;\n                width: 0px;\n                height: 0px;\n                border: 6px solid transparent;\n                border-bottom: 6px solid black;\n                position: absolute;\n                right: 0;\n                top: 0;\n            }\n        }\n    }\n\n    .title {\n        flex-basis: calc(100% - 7rem);\n\n        @media "," {\n            flex-basis: auto;\n        }\n    }\n\n    .additional-info {\n        display: flex;\n        flex-basis: 100%;\n        font-size: .8rem;\n        padding: .5rem;\n        color: #666;\n\n        @media "," {\n            flex-basis: auto;\n            padding: 0 .5rem;\n        }\n\n        .hide-link {\n            float: right;\n            color: #333;\n            cursor: pointer;\n            background: transparent;\n            border: none;\n\n            &:hover {\n                color: #000;\n                text-decoration: underline;\n            }\n\n            &:focus {\n                outline: none;\n            }\n        }\n    }\n\n    .fetch-more-cta {\n        margin: 1rem;\n        color: ",";\n        background: none;\n        border: none;\n        font-size: 1rem;\n        cursor: pointer;\n\n        &:focus {\n            outline: none;\n        }\n    }\n"]);return x=function(){return n},n}var k=l.c.div(x(),s,f,f,s,s,E.tablet,E.tablet,s);function N(n){var e=n.news,t=function(){n.fetchNews({params:{page:0}})};return o.a.createElement(k,null,n.fullPageLoader&&o.a.createElement(g,null),o.a.createElement("div",{className:"header"},o.a.createElement("ul",{className:"links"},o.a.createElement("li",{className:"logo-link"},o.a.createElement("span",{className:"logo"},o.a.createElement("img",{src:"images/y18.gif",alt:"Site Logo"}))),o.a.createElement("li",{className:"link"},o.a.createElement("button",{onClick:t},"top")),o.a.createElement("li",{className:"link"},o.a.createElement("button",{onClick:t},"new")))),o.a.createElement("ul",{className:"newsitems"},e.hits.map((function(e){return o.a.createElement("li",{className:"newsitem",key:e.objectID},o.a.createElement("div",{className:"comments"},e.num_comments||0),o.a.createElement("div",{className:"upvotes"},o.a.createElement("span",{className:"upvote"},e._upvotes),o.a.createElement("button",{className:"icon",onClick:function(){return t=e,void n.upvoteNewsItem(t.objectID,t._upvotes?t._upvotes+1:1);var t}},"upvote")),o.a.createElement("div",{className:"title"},e.title),o.a.createElement("div",{className:"additional-info"},"".concat(e._domain?"("+e._domain+") ":"","by ").concat(e.author," ").concat(e._createdOn," ")," ",o.a.createElement("button",{className:"hide-link",onClick:function(){return t=e.objectID,void n.hideNewsItem(t);var t}}," [ hide ] ")))})),o.a.createElement("li",null,o.a.createElement("button",{className:"fetch-more-cta",onClick:function(){n.fetchNews({params:{page:n.news.page+1}})}},"Load more"))))}N.propTypes={news:i.a.object,fetchNews:i.a.func.isRequired,hideNewsItem:i.a.func.isRequired,upvoteNewsItem:i.a.func.isRequired}},74:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return S}));var r=t(41),o=t.n(r),a=t(43),i=t.n(a),c=t(44),u=t.n(c),l=t(45),s=t.n(l),f=t(46),p=t.n(f),d=t(48),m=t.n(d),b=t(51),g=t.n(b),h=t(0),v=t.n(h),O=t(8),w=t.n(O),y=t(11),j=t(52);function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var x=Object(y.b)((function(n){return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){w()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},n)}),(function(n){return{}}))((function(n){return v.a.createElement("div",null,v.a.createElement(j.a,null))})),k=t(32);function N(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=g()(n);if(e){var o=g()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return m()(this,t)}}var S=function(n){p()(r,n);var e,t=N(r);function r(n){return u()(this,r),t.call(this,n)}return s()(r,null,[{key:"getServerSideProps",value:(e=i()(o.a.mark((function n(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.store,n.abrupt("return",t.dispatch(Object(k.a)()));case 2:case"end":return n.stop()}}),n)}))),function(n){return e.apply(this,arguments)})}]),s()(r,[{key:"render",value:function(){return v.a.createElement(x,null)}}]),r}(h.Component)}}]);
//# sourceMappingURL=2.bundle.js.map